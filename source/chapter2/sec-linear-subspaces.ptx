<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-linear-subspaces" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Linear subspaces</title>
    <p>
        The notion of a linear subspace of a vector space is a central notion in linear algebra.
    </p>
    <definition xml:id="def-linear-subspace">
        <statement>
            <p>
                A subset <m>V</m> of <m>\R^n</m> is called a <term>linear subspace</term> of <m>\R^n</m> if the following conditions hold:
                <ol>
                    <li>
                        <p>
                            If <m>\bv,\bu\in V</m>, then <m>\bv+\bu\in V</m> (i.e., <m>V</m> is closed under addition).
                        </p>
                    </li>
                    <li>
                        <p>
                            If <m>\lambda\in \R</m> and <m>\bv\in V</m>, then <m>\lambda\bv\in \R</m> (i.e., <m>V</m> is closed under scalar multiplication).
                        </p>
                    </li>
                </ol>
            </p>
        </statement>
    </definition>
    <exercise>
        <statement>
            <p>
                Show that if <m>V</m> is a linear subspace of <m>\R^n</m>, then <m>\bz\in V</m>.
            </p>
        </statement>
    </exercise>
    <exercise>
        <statement>
            <p>
                Show that both <m>\{\bz\}</m> and <m>\R^n</m> are linear subspaces of <m>\R^n</m>.
            </p>
        </statement>
    </exercise>
    <p>
        If <m>V</m> is a linear subspace of <m>\R^n</m> and <m>S</m> is a subset of vector in <m>V</m>, we say that <m>S</m> generates <m>V</m> if every vector in <m>v</m> can be written as a linear combination of vectors in <m>S</m>.
    </p>
    <p>
        Any set of vectors in <m>\R^n</m> generates a linear subspace called its <term>span</term>.
    </p>
    <definition xml:id="def-span">
        <statement>
            <p>
                Let <m>S</m> be a set of vectors in <m>\R^n</m>. The <term>span</term> of <m>S</m>, denoted <m>\vspan(S)</m>, is the set of vectors in <m>\R^n</m> that can be written as a linear combination of elements in <m>S</m>.
            </p>
        </statement>
    </definition>
    <proposition xml:id="prop-span-lin-space">
        <statement>
            <p>
                Let <m>S</m> be a set of vectors in <m>\R^n</m>. The set <m>\vspan(S)</m> is a linear subspace of <m>\R^n</m>.
            </p>
        </statement>
        <proof>
            <p>
                Let <m>\bv</m> be an element in <m>\vspan(S)</m>. First, we will see that <m>\lambda\bv\in\vspan(S)</m> for every scalar <m>\lambda\in \R</m>.
            </p>
            <p>
                By definition, every element <m>v\in \vspan(S)</m> can be written as a linear combination of vectors in <m>S</m>:
                <me>
                    v=\sum_{\bu\in S}c_{\bu}\bu
                </me>,
                where only finitely many of the coefficients <m>c_u</m> are non-zero. If <m>\lambda\in\R</m>, then
                <me>
                    \lambda\bv=\sum_{\bu\in S}\lambda c_{\bu}\bu
                </me>,
                which means that <m>\lambda\bv</m> can also be written as a linear combination of vectors in <m>S</m>. Therefore, <m>\lambda\bv</m> is in the span of <m>S</m>.
            </p>
            <p>
                We now need to show that if <m>\bv</m> and <m>\bw</m> are two vectors in the span of <m>S</m>, then <m>\bv+\bw</m> will also be there.
            </p>
            <p>
                Using the definition of span again, we know that <m>\bv</m> and <m>\bw</m> can be written as linear combinations of vectors in <m>S</m>:
                <me>
                    \bv = \sum_{\bu\in S}a_{\bu}\bu \qquad\text{and}\qquad \bw=\sum_{\bu\in S}b_{\bu}\bu
                </me>.
                Then
                <me>
                    \bv + \bw = \sum_{\bu\in S}(a_{\bu}+b_{\bu})\bu
                </me>, 
                showing that <m>\bv+\bw</m> can also be written as a linear combination of vectors in <m>S</m>. This means that <m>\bv+\bw\in\vspan(S)</m> and concludes the proof that <m>\vspan(S)</m> is a linear subspace of <m>\R^n</m>.
            </p>
        </proof>
    </proposition>
    <example>
        <p>
            Consider the vector <m>\bv=\colvec{1 \\ 2}</m> in <m>\R^2</m>. All linear combinations of the set formed by this single vector are of the form <m>\lambda\bv</m> for some scalar <m>\lambda\in \R</m>. Therefore, <m>\vspan(\bv)</m> is simply the line in <m>\R^2</m> that passes through the origin and has the same direction as the vector <m>\bv</m>.
        </p>
        <figure xml:id="fig-span-line">
            <caption>Vector <m>(1,2)</m> (in blue) and its span (in orange).</caption>
            <image width="80%">
                <shortdescription>The vector minus 1 comma 2, and its span.</shortdescription>
                <prefigure xmlns="https://prefigure.org" label="prefig-span-line">
                    <diagram dimensions="(300,300)" margins="5">
                        <definition>v=(1,2)</definition>
                        <definition>p=(0,0)</definition>
                        <coordinates bbox="(-3,-3, 3, 3)">
                            <grid-axes xlabel="x" ylabel="y" />
                            <line p1="p" p2="v" stroke="orange" infinite="yes" thickness="2"/>
                            <vector v="v" stroke="blue" thickness="2" />
                        </coordinates>
                    </diagram>
                </prefigure>                    
            </image>
        </figure>
        <p>
            Consider now the set <m>S</m> formed by the vectors <m>\bv=\colvec{1 \\ 2}</m> and <m>\bw=\colvec{-2 \\ -4}</m>. Since <m>\bw=-2\bv</m> the span <m>\vspan(\bv,\bw)</m> is the same as <m>\vspan(\bv)</m>. Indeed, if a vector <m>\bu\in\R^2</m> is a linear combination of <m>\bv</m> and <m>\bw</m>, then it is a linear combination of <m>\bv</m> alone:
            <me>
                \bu=\lambda\bv+\mu\bw=\lambda\bv-2\mu\bv=(\lambda-2\mu)\bv
            </me>.
        </p>
        <figure xml:id="fig-span-line2">
            <caption>Vectors <m>(1,2)</m> (in blue) and <m>(-2,-4)</m> (in red) and their span (in orange).</caption>
            <image width="80%">
                <shortdescription>The vectors minus 1 comma 2, negative 2 comma negative 4 and their span.</shortdescription>
                <prefigure xmlns="https://prefigure.org" label="prefig-span-line2">
                    <diagram dimensions="(300,300)" margins="5">
                        <definition>v=(1,2)</definition>
                        <definition>w=(-2,-4)</definition>
                        <definition>p=(0,0)</definition>
                        <coordinates bbox="(-5,-5, 5, 5)">
                            <grid-axes xlabel="x" ylabel="y" />
                            <line p1="p" p2="v" stroke="orange" infinite="yes" thickness="2"/>
                            <vector v="v" stroke="blue" thickness="2" />
                            <vector v="w" stroke="red" thickness="2" />
                        </coordinates>
                    </diagram>
                </prefigure>                    
            </image>
        </figure>
    </example>
    <example xml:id="example-span-two-ind">
        <p>
            Consider the vectors <m>\bv=\colvec{1 \\ 2}</m> and <m>\bu=\colvec{-1 \\ 1}</m>. In this case, <m>\vspan(\bv,\bw)=\R^2</m>. In other words, every vector in <m>\R^2</m> can be written as a linear combination of <m>\bv</m> and <m>\bw</m>. In order to see this, let <m>\bb=\colvec{b_1 \\ b_2}</m> be a vector and <m>\R^2</m>. We want to find real numbers <m>x</m> and <m>y</m> such that
            <me>
                x\colvec{1 \\ 2} + y\colvec{-1 \\ 1}=\colvec{b_1 \\ b_2}
            </me>,
            which leads us to consider the linear system
            <me>
                \left\{
                    \begin{alignedat}{5}
                        x \ampp - \ampp y \amp = \ampp b_1 \\
                        2x \ampp + \ampp y \amp = \ampp b_2
                    \end{alignedat}
                \right.
            </me>
            You may recall that we saw that if the determinant of a system with two equations and two variables is non-zero, then the system has exactly one solution. The determinant of this system is <m>1+2=3</m>, so it always has a single solution.
        </p>
    </example>
    <p>
        In general, how are we to give a nice description of the span of a collection of vectors?
    </p>
    <p>
        Let's say that we have a set of vectors <m>S=\{\bv_1,\ldots,\bv_m\}</m> in <m>\R^n</m>. There are a few operations that we can perform on these vectors that will preserve their span:
        <ol>
            <li>
                <p>
                    When calculating the span, the order in which the generating vectors appear does not matter.
                </p>
            </li>
            <li>
                <p>
                    We may replace any vector in <m>S</m> by a non-zero scalar multiple.
                </p>
            </li>
            <li>
                <p>
                    We may add a multiple of a vector in <m>S</m> to another vector in <m>S</m>.
                </p>
            </li>
        </ol>
    </p>
    <p>
        If you suspect that you are having a d&#233;j&#224; vu, you are right. These properties are analogues of the elementary row operations that we studied in Chapter 1. However, since we represent vectors as columns, we are performing elementary column operations instead!
    </p>
    <p>
        If we now consider the matrix whose columns are the vectors <m>\bv_1,\bv_2,\ldots,\bv_m</m>, every time we perform an elementary column operation on it, each column will still be an element in <m>V=\vspan(\bv_1,\ldots,\bv_m)</m> and the set of all columns will still generate <m>\vspan(\bv_1,\ldots,\bv_m)</m>. We can therefore use the Gauss-Jordan process on columns to end up with a matrix in <term>reduced column echelon form</term> where the columns generate <m>V</m>. Let me show you a few examples that will hopefully convince you that the generating set for <m>\vspan(\bv_1,\ldots,\bv_m)</m> that we obtain from applying the Gauss-Jordan elimination process to the matrix with columns <m>\bv_1,\ldots,\bv_m</m> offers a much better description of this space.
    </p>
    <example>
        <p>
            We start we the two vectors from <xref ref="example-span-two-ind"/>. We want to find a nice description of <m>\vspan(\bv,\bw)</m> where <m>\bv=\colvec{1 \\ 2}</m> and <m>\bw=\colvec{-1 \\ 1}</m>. Let's consider the matrix whose columns are these two vectors:
            <me>
                \begin{pmatrix} 1 \amp -1 \\ 2 \amp 1\end{pmatrix}
            </me>.
            The Gauss-Jordan elimination process <alert>on columns</alert> goes as follows:
            <me>
                \begin{pmatrix} 1 \amp -1 \\ 2 \amp 1\end{pmatrix}\xrightarrow{C_2\to C_2+C_1}\begin{pmatrix} 1\amp 0 \\ 2 \amp 3 \end{pmatrix}\xrightarrow{C_2\to \frac{1}{3}C_2}\begin{pmatrix} 1\amp 0 \\ 2 \amp 1\end{pmatrix}\xrightarrow{C_1\to C_1-2C_2}\begin{pmatrix} 1 \amp 0 \\ 0 \amp 1\end{pmatrix}
            </me>.
            What this means is that <m>\vspan(\bv,\bw)</m> is precisely the set of vectors in <m>\R^2</m> generated by the standard unit vectors <m>\colvec{1 \\ 0}</m> and <m>\colvec{0 \\ 1}</m>. This is of course the whole of <m>\R^2</m>.
        </p>        
    </example>
    <example>
        <p>
            Let's apply the same procedure to understand the span of <m>\bv=\colvec{1 \\ 2}</m> and <m>\bw=\colvec{-2 \\ -4}</m>.
            <me>
                \begin{pmatrix} 1 \amp -2 \\ 2 \amp -4 \end{pmatrix}\xrightarrow{C_2\to C_2+2C_1}\begin{pmatrix} 1 \amp 0 \\ 2 \amp 0\end{pmatrix}
            </me>.
            We conclude that <m>\vspan(\bv,\bw)=\vspan(\bv)</m>.
        </p>
    </example>
    <example>
        <p>
            Consider the vectors <m>\bv_1=\colvec{2 \\ 0 \\ 2},\bv_2 = \colvec{1 \\ 2 \\ 3}</m> and <m>\bv_3=\colvec{0 \\ -1 \\ -1}</m>. Let's try to find a nice description of the span of these three vectors.
            <md>
                <mrow> \begin{pmatrix} 2 \amp 1 \amp 0 \\ 0 \amp 2 \amp -1 \\ 2 \amp 3 \amp -1 \end{pmatrix} \amp \xrightarrow{C_1\to \frac{1}{2}C_1} \begin{pmatrix}1 \amp 1 \amp 0 \\ 0 \amp 2 \amp -1 \\ 1 \amp 3 \amp -1 \end{pmatrix}\xrightarrow{C_2\to C_2-C_1}\begin{pmatrix} 1 \amp 0 \amp 0 \\ 0 \amp 2 \amp -1 \\ 1 \amp 2 \amp -1\end{pmatrix}</mrow>
                <mrow> \amp\xrightarrow{C_2\to\frac{1}{2}C_2} \begin{pmatrix} 1 \amp 0 \amp 0 \\ 0 \amp 1 \amp -1 \\ 1 \amp 1 \amp -1 \end{pmatrix}\xrightarrow{C_3\to C_3-C_2}\begin{pmatrix}1 \amp 0 \amp 0 \\ 0 \amp 1 \amp 0 \\ 1 \amp 1\amp 0\end{pmatrix}</mrow>
            </md>.
            This means that the span of <m>\bv_1,\bv_2,\bv_3</m> is the set of vectors in <m>\R^3</m> of the form
            <me>
                x\colvec{1 \\ 0 \\ 1}+y\colvec{0 \\ 1 \\ 1}=\colvec{x \\ y \\ x+y}
            </me>,
            where <m>x</m> and <m>y</m> are real numbers.
        </p>
    </example>
</section>